{% extends 'base.html.twig' %}

{% block title %}Nouveau mot de passe{% endblock %}

{% block body %}
    <section id="form">
        <div class="form">
            <div class="form-content">
                <div class="mix">
                    <div class="headline">
                        <h3 class="text-headline">Nouveau mot de passe</h3>
                        <div class="text-subheadline">
                            {% for message in app.flashes('error') %}
                                <div class="alert alert-danger">{{ message }}</div>
                            {% endfor %}

                            {% for message in app.flashes('success') %}
                                <div class="alert alert-success">{{ message }}</div>
                            {% endfor %}
                        </div>
                    </div>
                </div>

                {{ form_start(resetForm, { attr: { class: 'all-form', id: 'reset-password-form' } }) }}

                <div class="spliter">
                    <div class="left">
                        {% set pw1Errors = form_errors(resetForm.plainPassword.first) %}
                        <span class="form-group {{ pw1Errors ? 'inputs--invalid' }}">
                            {{ form_label(resetForm.plainPassword.first) }}
                            {{ form_widget(resetForm.plainPassword.first, { attr: { id: 'reset_password_form_plainPassword_first' } }) }}

                            <div id="reset_password_form_plainPassword_first-error" class="form-error" style="{{ pw1Errors ? '' : 'visibility:hidden;' }}">
                                {% if pw1Errors %}
                                    {{ pw1Errors|raw }}
                                {% else %}
                                    &nbsp;
                                {% endif %}
                            </div>
                        </span>
                        {% set pw2Errors = form_errors(resetForm.plainPassword.second) %}
                        <span class="form-group {{ pw2Errors ? 'inputs--invalid' }}">
                            {{ form_label(resetForm.plainPassword.second) }}
                            {{ form_widget(resetForm.plainPassword.second, { attr: { id: 'reset_password_form_plainPassword_second' } }) }}

                            <div id="reset_password_form_plainPassword_second-error" class="form-error" style="{{ pw2Errors ? '' : 'visibility:hidden;' }}">
                                {% if pw2Errors %}
                                    {{ pw2Errors|raw }}
                                {% else %}
                                    &nbsp;
                                {% endif %}
                            </div>
                        </span>

                        <input class="btn btn-lg btn-primary" type="submit" value="Valider le nouveau mot de passe">
                    </div>
                </div>

                {{ form_end(resetForm) }}
            </div>
        </div>
    </section>
{% endblock %}
